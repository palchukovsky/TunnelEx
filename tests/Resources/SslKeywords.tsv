*Settings*							
Library	../Lib/Test.py						
Resource	CommonKeywords.tsv						
							
*Variables*							
${SSL CONNECTION}	${EMPTY}						
							
*Keywords*							
"Create TCP connection to ""${host}:${port}"", convert to SSL and test echo ${count} times with ""${test data}"""							
	Start SSL echo server						
	${connection}	Connect to TCP server	${host}	${port}			
	Set Test Variable	${SSL CONNECTION}	${connection}				
	Repeat Keyword	${count}	Send data to server and check echo	${connection}	${test data}		
	[Teardown]	Disconnect SSL connection and stop SSL echo server					
							
Start SSL echo server							
	Start test service process	ssl-echo-server 1234	ssl echo server				
							
Stop SSL echo server							
	Switch Process	ssl echo server					
	${ssl echo server output}	Read Process Output					
	Log	${ssl echo server output}					
	Stop All Processes						
							
Disconnect SSL connection and stop SSL echo server							
	Disconnect	 ${SSL CONNECTION}					
	Stop SSL echo server						
							
